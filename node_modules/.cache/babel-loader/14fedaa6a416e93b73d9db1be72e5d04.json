{"ast":null,"code":"var _jsxFileName = \"/Users/alyssajackson/Documents/React_App/seir-224-project-2/react_project/src/Components/Home.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./CSS/Home.css\";\nimport Form from \"./Form\";\n\nfunction Home(props) {\n  //setting state\n  const [driverAlert, setDriverAlert] = useState(\"\");\n  const [alert, setAlert] = useState(\"\");\n  const [showInfo, setShowInfo] = useState(false);\n  const [showRemove, setShowRemove] = useState(false); //fetching data from google sheet\n\n  const pullGoogleSheet = async () => {\n    let sheetUrl = \"https://spreadsheets.google.com/feeds/list/1uZdRKonnGEAgksvHTd9g6FKBkiQyzk9vf6u2ec7LEdE/od6/public/values?alt=json\";\n    let res = await fetch(sheetUrl);\n    let data = await res.json();\n    let object = await data.feed.entry;\n    const dataArr = object.map((obj, index) => {\n      if (obj.gsx$title.$t === \"Driver\") {\n        return {\n          name: obj.gsx$name.$t,\n          address: obj.gsx$address.$t,\n          title: \"driver\"\n        };\n      } else {\n        return {\n          name: obj.gsx$name.$t,\n          address: obj.gsx$address.$t,\n          title: \"passenger\"\n        };\n      }\n    });\n    const driverArr = dataArr.filter(driver => {\n      return driver.title === \"driver\";\n    });\n    const driverData = driverArr.map(async (driver, index) => {\n      let str = driver.address.replace(/\\s/g, '+');\n      let res = await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${str},+CA&key=AIzaSyDJ56l2Y_6K3vN5rH30aKddRVljnEsuR_Y`);\n      let json = await res.json();\n      let place = json.results[0].geometry.location;\n      return {\n        name: driver.name,\n        address: driver.address,\n        lat: place.lat,\n        lng: place.lng,\n        assigned: \"unassigned\"\n      };\n    });\n    const rideArr = dataArr.filter(ride => {\n      return ride.title === \"passenger\";\n    });\n    const rideData = rideArr.map(async (ride, index) => {\n      let str = ride.address.replace(/\\s/g, '+');\n      let res = await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${str},+CA&key=AIzaSyDJ56l2Y_6K3vN5rH30aKddRVljnEsuR_Y`);\n      let json = await res.json();\n      let place = json.results[0].geometry.location;\n      return {\n        name: ride.name,\n        address: ride.address,\n        lat: place.lat,\n        lng: place.lng,\n        assign: \"unassigned\"\n      };\n    });\n    const resolvedDriverArray = await Promise.all(driverData);\n    const resolvedRideArray = await Promise.all(rideData);\n    props.setDriverList(resolvedDriverArray);\n    props.setRideList(resolvedRideArray);\n  }; //removing item from list \n\n\n  const removeDriver = name => {\n    props.driverList.forEach((object, index) => {\n      if (name === object.name) {\n        props.driverList.splice(index, 1);\n        setDriverAlert( /*#__PURE__*/React.createElement(\"div\", {\n          className: \"alert\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"removeIcon\",\n          src: \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Remove_sign_font_awesome.svg/512px-Remove_sign_font_awesome.svg.png\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }\n        }, name, \" has been removed from your map\")));\n      }\n    });\n  };\n\n  const removeRide = name => {\n    props.rideList.forEach((object, index) => {\n      if (name === object.name) {\n        props.rideList.splice(index, 1);\n        setAlert( /*#__PURE__*/React.createElement(\"div\", {\n          className: \"alert\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"removeIcon\",\n          src: \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Remove_sign_font_awesome.svg/512px-Remove_sign_font_awesome.svg.png\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }\n        }, name, \" has been removed from your map\")));\n      }\n    });\n  }; //making the driver List and ride List\n\n\n  const makeDriverList = props.driverList.map((obj, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"listItem\",\n      onMouseEnter: () => setShowRemove(true),\n      onMouseLeave: () => setShowRemove(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, showRemove && /*#__PURE__*/React.createElement(\"img\", {\n      className: \"removeIcon\",\n      onClick: () => removeDriver(obj.name),\n      src: \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Remove_sign_font_awesome.svg/512px-Remove_sign_font_awesome.svg.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, obj.name, \" - \", obj.address));\n  });\n  const makeRideList = props.rideList.map((obj, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"listItem\",\n      onMouseEnter: () => setShowRemove(true),\n      onMouseLeave: () => setShowRemove(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, showRemove && /*#__PURE__*/React.createElement(\"img\", {\n      className: \"removeIcon\",\n      onClick: () => removeRide(obj.name),\n      src: \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Remove_sign_font_awesome.svg/512px-Remove_sign_font_awesome.svg.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, obj.name, \" - \", obj.address));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"information\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"Carpool \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 29\n    }\n  }, \"coordinator\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    onClick: pullGoogleSheet,\n    className: \"importIcon\",\n    src: \"https://upload.wikimedia.org/wikipedia/commons/4/4d/Font_Awesome_5_solid_file-import.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    onClick: () => {\n      setShowInfo(!showInfo);\n    },\n    className: \"helpIcon\",\n    src: \"https://cdn1.iconfinder.com/data/icons/education-set-4/512/information-512.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"logo\",\n    src: \"https://upload.wikimedia.org/wikipedia/commons/e/e6/Home_icon_black.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 30\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    to: \"/map\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"logo\",\n    src: \"https://upload.wikimedia.org/wikipedia/commons/e/ed/Map_pin_icon.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    to: \"/list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"logo\",\n    src: \"https://upload.wikimedia.org/wikipedia/commons/4/43/Noun_project_list_icon_1380018_cc.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 34\n    }\n  }))), /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"logo\",\n    src: \"https://upload.wikimedia.org/wikipedia/commons/e/e6/Home_icon_black.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 30\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 131\n    }\n  }), \"Home\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/map\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"logo\",\n    src: \"https://upload.wikimedia.org/wikipedia/commons/e/ed/Map_pin_icon.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 131\n    }\n  }), \"Map\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"logo\",\n    src: \"https://upload.wikimedia.org/wikipedia/commons/4/43/Noun_project_list_icon_1380018_cc.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 34\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 153\n    }\n  }), \"Assign\")), showInfo && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"instructions\",\n    onClick: () => setShowInfo(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, \"Instructions: \"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, \"On your home page, add drivers to your driver list and passengers who need a ride to your passenger list\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, \"After you submit, check out the map by clicking on the map icon to see where your drivers and passengers are located!\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, \"On the map page, click on the red passenger markers to assign them a driver and they should turn blue!\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, \"Once you assigned all your passengers a driver and your markers are all blue, click on the list icon to see the assignments\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"welcome\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, \"A better way to coordinate rides!\")), /*#__PURE__*/React.createElement(Form, {\n    makeDriverList: makeDriverList,\n    makeRideList: makeRideList,\n    driverList: props.driverList,\n    setDriverList: props.setDriverList,\n    rideList: props.rideList,\n    setRideList: props.setRideList,\n    alert: alert,\n    setAlert: setAlert,\n    driverAlert: driverAlert,\n    setDriverAlert: setDriverAlert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"footer\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, \"\\xA9 Carpool Coordinator 2020\"));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/alyssajackson/Documents/React_App/seir-224-project-2/react_project/src/Components/Home.js"],"names":["React","useState","useEffect","Link","Form","Home","props","driverAlert","setDriverAlert","alert","setAlert","showInfo","setShowInfo","showRemove","setShowRemove","pullGoogleSheet","sheetUrl","res","fetch","data","json","object","feed","entry","dataArr","map","obj","index","gsx$title","$t","name","gsx$name","address","gsx$address","title","driverArr","filter","driver","driverData","str","replace","place","results","geometry","location","lat","lng","assigned","rideArr","ride","rideData","assign","resolvedDriverArray","Promise","all","resolvedRideArray","setDriverList","setRideList","removeDriver","driverList","forEach","splice","removeRide","rideList","makeDriverList","makeRideList"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport {Link} from \"react-router-dom\"\nimport \"./CSS/Home.css\"\nimport Form from \"./Form\"\n\nfunction Home(props){\n    //setting state\n    const [driverAlert, setDriverAlert] = useState(\"\")\n    const [alert, setAlert] = useState(\"\")\n    const [showInfo, setShowInfo] = useState(false)\n    const [showRemove, setShowRemove] = useState(false)\n\n\n    //fetching data from google sheet\n    const pullGoogleSheet = async() => {\n        let sheetUrl = \"https://spreadsheets.google.com/feeds/list/1uZdRKonnGEAgksvHTd9g6FKBkiQyzk9vf6u2ec7LEdE/od6/public/values?alt=json\"\n        let res = await fetch(sheetUrl)\n        let data = await res.json()\n        let object = await data.feed.entry\n        const dataArr = object.map((obj, index) => {\n            if(obj.gsx$title.$t === \"Driver\"){\n                return {name: obj.gsx$name.$t, address: obj.gsx$address.$t, title: \"driver\"}\n              \n            } else {\n                return {name: obj.gsx$name.$t, address: obj.gsx$address.$t, title: \"passenger\"}\n            }\n        })\n        const driverArr = dataArr.filter((driver)=>{\n            return driver.title === \"driver\"\n        })\n        const driverData = driverArr.map(async(driver, index)=>{\n            let str = driver.address.replace(/\\s/g, '+');\n            let res = await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${str},+CA&key=AIzaSyDJ56l2Y_6K3vN5rH30aKddRVljnEsuR_Y`)\n            let json = await res.json();\n            let place = json.results[0].geometry.location\n            return {name: driver.name, address: driver.address, lat: place.lat, lng: place.lng, assigned:\"unassigned\"}\n        })\n        const rideArr = dataArr.filter((ride)=>{\n            return ride.title === \"passenger\"\n        })\n        const rideData = rideArr.map(async(ride, index)=>{\n            let str = ride.address.replace(/\\s/g, '+');\n            let res = await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${str},+CA&key=AIzaSyDJ56l2Y_6K3vN5rH30aKddRVljnEsuR_Y`)\n            let json = await res.json();\n            let place = json.results[0].geometry.location\n            return {name: ride.name, address: ride.address, lat: place.lat, lng: place.lng, assign: \"unassigned\"}\n        })\n        const resolvedDriverArray = await Promise.all(driverData); \n        const resolvedRideArray = await Promise.all(rideData)\n       \n        props.setDriverList(resolvedDriverArray)\n        props.setRideList(resolvedRideArray)\n    }\n    \n    //removing item from list \n    const removeDriver = (name) => {\n        props.driverList.forEach((object, index) => {\n            if(name === object.name){\n                props.driverList.splice(index, 1)\n                setDriverAlert(\n                    <div className=\"alert\">\n                        <img className=\"removeIcon\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Remove_sign_font_awesome.svg/512px-Remove_sign_font_awesome.svg.png\"/>\n                        <p>{name} has been removed from your map</p>\n                     </div>\n                )\n            }\n        })\n    }\n    const removeRide = (name) => {\n        props.rideList.forEach((object, index) => {\n            if(name === object.name){\n                props.rideList.splice(index, 1)\n                setAlert(\n                    <div className=\"alert\">\n                        <img className=\"removeIcon\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Remove_sign_font_awesome.svg/512px-Remove_sign_font_awesome.svg.png\"/>\n                        <p>{name} has been removed from your map</p>\n                    </div>)\n            }\n        })\n\n    }\n\n    \n    //making the driver List and ride List\n    const makeDriverList = props.driverList.map((obj, index) => {\n        return (\n            <div className=\"listItem\" onMouseEnter={()=>setShowRemove(true)} onMouseLeave={()=>setShowRemove(false)}>\n                {showRemove && (<img className=\"removeIcon\" onClick ={()=> removeDriver(obj.name)} src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Remove_sign_font_awesome.svg/512px-Remove_sign_font_awesome.svg.png\"/>)}\n                <li key={index}>{obj.name} - {obj.address}</li>\n            </div>\n        )\n    })\n    const makeRideList = props.rideList.map((obj, index) => {\n        return (\n            <div className=\"listItem\" onMouseEnter={()=>setShowRemove(true)} onMouseLeave={()=>setShowRemove(false)}>\n                {showRemove && (<img className=\"removeIcon\" onClick={()=> removeRide(obj.name)} src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Remove_sign_font_awesome.svg/512px-Remove_sign_font_awesome.svg.png\"/>)}\n                <li key={index}>{obj.name} - {obj.address}</li>\n            </div>\n        )\n    })\n\n    return(\n        <div className=\"information\">\n            <header>\n                <h2>Carpool <span>coordinator</span></h2>\n                <div>\n                <img onClick={pullGoogleSheet} className=\"importIcon\" src=\"https://upload.wikimedia.org/wikipedia/commons/4/4d/Font_Awesome_5_solid_file-import.svg\"/>\n                <img onClick={()=>{setShowInfo(!showInfo)}}className=\"helpIcon\" src=\"https://cdn1.iconfinder.com/data/icons/education-set-4/512/information-512.png\"/>\n                </div>\n            </header> \n            <div className=\"nav\">\n                <Link to=\"/\"><img className=\"logo\" src=\"https://upload.wikimedia.org/wikipedia/commons/e/e6/Home_icon_black.png\"/></Link>\n                <Link to=\"/map\"><img className=\"logo\" src=\"https://upload.wikimedia.org/wikipedia/commons/e/ed/Map_pin_icon.svg\"/></Link>\n                <Link to=\"/list\"><img className=\"logo\" src=\"https://upload.wikimedia.org/wikipedia/commons/4/43/Noun_project_list_icon_1380018_cc.svg\"/></Link>\n            </div> \n            <nav>\n                <Link to=\"/\"><img className=\"logo\" src=\"https://upload.wikimedia.org/wikipedia/commons/e/e6/Home_icon_black.png\"/><br/>Home</Link>\n                <Link to=\"/map\"><img className=\"logo\" src=\"https://upload.wikimedia.org/wikipedia/commons/e/ed/Map_pin_icon.svg\"/><br/>Map</Link>\n                <Link to=\"/list\"><img className=\"logo\" src=\"https://upload.wikimedia.org/wikipedia/commons/4/43/Noun_project_list_icon_1380018_cc.svg\"/><br/>Assign</Link>\n            </nav>  \n            {showInfo && (<div className=\"instructions\" onClick={()=> setShowInfo(false)}>\n                <ol>\n                <h4>Instructions: </h4>\n                    <li>On your home page, add drivers to your driver list and passengers who need a ride to your passenger list</li>\n                    <li>After you submit, check out the map by clicking on the map icon to see where your drivers and passengers are located!\n                    </li>\n                    <li>On the map page, click on the red passenger markers to assign them a driver and they should turn blue!</li>\n                    <li>Once you assigned all your passengers a driver and your markers are all blue, click on the list icon to see the assignments</li>\n                </ol>\n            </div>)}\n           <div className=\"welcome\">\n                <h4>A better way to coordinate rides!</h4>\n           </div>\n           <Form makeDriverList={makeDriverList}\n                 makeRideList={makeRideList}\n                 driverList={props.driverList}\n                 setDriverList={props.setDriverList}\n                 rideList={props.rideList}\n                 setRideList={props.setRideList}\n                 alert={alert}\n                 setAlert={setAlert}\n                 driverAlert={driverAlert}\n                 setDriverAlert={setDriverAlert}/>\n            <footer>&copy; Carpool Coordinator 2020</footer>\n        </div>\n    )\n}\nexport default Home;"]},"metadata":{},"sourceType":"module"}